<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><script>(()=>{var e=window._paq=window._paq||[];e.push(["setExcludedQueryParams",["*.wtf"]]),e.push(["trackPageView"]),e.push(["enableLinkTracking"]),function(){n="https://atsign.matomo.cloud/",e.push(["setTrackerUrl",n+"matomo.php"]),e.push(["setSiteId","2"]);var n,s=document,t=s.createElement("script"),o=s.getElementsByTagName("script")[0];t.async=!0,t.src="//cdn.matomo.cloud/atsign.matomo.cloud/matomo.js",o.parentNode.insertBefore(t,o)}()})()</script><link rel=stylesheet href=https://docs.atsign.com/main.2d506e086be877de0019d0b22e2cea4357e9e97f80a06adcc6bccefe7c06325cbce61cc4a105f950d12d281e7f6541ad9c97df9dd94411786bf4beef90704310.css integrity="sha512-LVBuCGvod94AGdCyLizqQ1fp6X+AoGrcxrzO/nwGMly85hzEoQX5UNEtKB5/ZUGtnJffndlEEXhr9L7vkHBDEA==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Set up the Daemon - atPlatform</title><meta name=description content="Get your daemon setup on your remote device
"><link rel=canonical href=https://docs.atsign.com/tutorials/sshnp/2-daemon/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Set up the Daemon"><meta property="og:description" content="Get your daemon setup on your remote device
"><meta property="og:url" content="https://docs.atsign.com/tutorials/sshnp/2-daemon/"><meta property="og:site_name" content="atPlatform"><meta property="article:modified_time" content="2023-01-20T17:02:07-05:00"><meta property="og:image" content="https://docs.atsign.com/social-preview.jpg"><meta property="og:image:alt" content="atPlatform"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="atsigncompany"><meta name=twitter:creator content="atsigncompany"><meta name=twitter:title content="Set up the Daemon"><meta name=twitter:description content="Get your daemon setup on your remote device
"><meta name=twitter:image content="https://docs.atsign.com/social-preview.jpg"><meta name=twitter:image:alt content="Set up the Daemon"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"https://docs.atsign.com/#/schema/person/1","name":"","url":"https://docs.atsign.com/","sameAs":[],"image":{"@type":"ImageObject","@id":"https://docs.atsign.com/#/schema/image/1","url":"https://docs.atsign.com/\u003cnil\u003e","width":null,"height":null,"caption":""}},{"@type":"WebSite","@id":"https://docs.atsign.com/#/schema/website/1","url":"https://docs.atsign.com/","name":"atPlatform","description":"The atPlatform is the fastest and easiest way to develop peer-to-peer, end-to-end encrypted apps.\n","publisher":{"@id":"https://docs.atsign.com/#/schema/person/1"}},{"@type":"WebPage","@id":"https://docs.atsign.com/tutorials/sshnp/2-daemon/","url":"https://docs.atsign.com/tutorials/sshnp/2-daemon/","name":"Set up the Daemon","description":"Get your daemon setup on your remote device\n","isPartOf":{"@id":"https://docs.atsign.com/#/schema/website/1"},"about":{"@id":"https://docs.atsign.com/#/schema/person/1"},"datePublished":"0001-01-01T00:00:00CET","dateModified":"2023-01-20T17:02:07CET","breadcrumb":{"@id":"https://docs.atsign.com/tutorials/sshnp/2-daemon/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://docs.atsign.com/tutorials/sshnp/2-daemon/#/schema/image/2"},"inLanguage":"","potentialAction":[{"@type":"ReadAction","target":["https://docs.atsign.com/tutorials/sshnp/2-daemon/"]}]},{"@type":"BreadcrumbList","@id":"https://docs.atsign.com/tutorials/sshnp/2-daemon/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://docs.atsign.com/","url":"https://docs.atsign.com/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://docs.atsign.com/tutorials/","url":"https://docs.atsign.com/tutorials/","name":"Tutorials"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://docs.atsign.com/tutorials/sshnp/","url":"https://docs.atsign.com/tutorials/sshnp/","name":"Sshnp"}},{"@type":"ListItem","position":4,"item":{"@id":"https://docs.atsign.com/tutorials/sshnp/2-daemon/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://docs.atsign.com/tutorials/sshnp/2-daemon/#/schema/image/2","url":"https://docs.atsign.com/social-preview.jpg","contentUrl":"https://docs.atsign.com/social-preview.jpg","caption":"Set up the Daemon"}]}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://docs.atsign.com/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://docs.atsign.com/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://docs.atsign.com/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://docs.atsign.com/site.webmanifest></head><body class="tutorials single"><header class="navbar navbar-expand-lg navbar-light doks-navbar"><nav class=container-fluid aria-label="Main navigation"><a class="navbar-brand p-0 me-auto" href=https://docs.atsign.com/ aria-label=atPlatform><img class=toggle-light src=https://docs.atsign.com/img/branding/dark/lockup-dark.png width=320em>
<img class=toggle-dark src=https://docs.atsign.com/img/branding/light/lockup-light.png width=320em></a><div class="offcanvas offcanvas-end border-0 py-lg-1" tabindex=-1 id=offcanvasDoks data-bs-backdrop=true aria-labelledby=offcanvasDoksLabel><div class="offcanvas-header d-lg-none"><img class=toggle-light src=https://docs.atsign.com/img/branding/dark/lockup-dark.png width=320em>
<img class=toggle-dark src=https://docs.atsign.com/img/branding/light/lockup-light.png width=320em>
<button type=button class="btn-close text-reset me-2" data-bs-dismiss=offcanvas aria-label="Close main menu"></button></div><div class="offcanvas-body px-4"><h3 class="h6 text-uppercase mb-3 d-lg-none">Quick Links</h3><ul class="nav flex-column flex-lg-row ms-md-n3"><li class=nav-item><a class="nav-link ps-0 py-1" href=https://docs.atsign.com/start/>Get Started</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=https://my.atsign.com/go>Get an atSign</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=https://github.com/atsign-foundation>GitHub</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=https://atsign.com>atsign.com</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=https://github.com/atsign-foundation/docs.atsign.com/issues/new/choose>Open Issue</a></li></ul><hr class="text-black-50 my-4 d-lg-none"><h3 class="h6 text-uppercase mb-3 d-lg-none">Navigate</h3><span class=d-lg-none><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle default-text align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-e0c4332e8c13be976552a059f106354f aria-expanded=false>
Get Started</button><div class=collapse id=section-e0c4332e8c13be976552a059f106354f><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://docs.atsign.com/start/flutter/>Flutter</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/start/java/>Java</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/start/iot/>IoT</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle default-text align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-130ddfce9c28453883ccfe2da8b6d5ac aria-expanded=true>
Tutorials</button><div class="collapse show" id=section-130ddfce9c28453883ccfe2da8b6d5ac><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://docs.atsign.com/tutorials/at-dude/1-introduction/>atDude Tutorial</a></li><li><a class="docs-link rounded active" href=https://docs.atsign.com/tutorials/sshnp/1-prerequisites/>Ssh! No Ports</a></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-76633bb1ac6de866df853afb3570dcd5 aria-expanded=false>
dess</button><div class=collapse id=section-76633bb1ac6de866df853afb3570dcd5><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://docs.atsign.com/tutorials/dess/aws/1-introduction/>Setup dess on AWS</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/tutorials/dess/gcp/1-introduction/>Setup dess on GCP</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/tutorials/dess/rpi/1-introduction/>Setup dess on a Raspberry Pi</a></li></ul></div></li></ul></div></li><li class=mb-1><button class="btn btn-toggle default-text align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-e0d05f991f966012c2faab6947c0f48e aria-expanded=false>
SDK Reference</button><div class=collapse id=section-e0d05f991f966012c2faab6947c0f48e><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://docs.atsign.com/sdk/flutter/introduction/>Flutter</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/sdk/java/introduction/>Java</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle default-text align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-f1cfbb26098a251a8c16653a09a31da9 aria-expanded=false>
The atPlatform</button><div class=collapse id=section-f1cfbb26098a251a8c16653a09a31da9><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://docs.atsign.com/atplatform/atplatformoverview/>Overview</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/atplatform/architecture/>Architecture</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/atplatform/specification/>Protocol Specification</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/atplatform/rootserver/>atDirectory</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/atplatform/secondaryserver/>atServer</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle default-text align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-63d5049791d9d79d86e9a108b0a999ca aria-expanded=false>
Reference</button><div class=collapse id=section-63d5049791d9d79d86e9a108b0a999ca><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://docs.atsign.com/reference/atsign/>atSign</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/reference/pricing-and-costs/>Pricing / Costs</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/reference/encryption/>Encryption</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/reference/privacy/>Privacy</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/reference/polymorphism/>Polymorphism</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/reference/public-private-keys/>Public and Private Keys</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/reference/self-encryption-key/>Self-Encryption Key</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/reference/cram/>CRAM</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/reference/pkam/>PKAM</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/reference/namespace/>Namespace</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/reference/synchronization/>Synchronization</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/reference/notification/>Notification</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle default-text align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-c20ef24abeeca4e301dcb6590a9fa683 aria-expanded=false>
Contribute to the atPlatform</button><div class=collapse id=section-c20ef24abeeca4e301dcb6590a9fa683><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://docs.atsign.com/contribute/atmosphere-pro/1-introduction/>Atmosphere Pro</a></li><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-9cacfb761116331ea9cdd8841bd77804 aria-expanded=false>
Contribute to this site</button><div class=collapse id=section-9cacfb761116331ea9cdd8841bd77804><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://docs.atsign.com/contribute/this-site/shortcodes/button/>Shortcodes Tutorial</a></li><li><a class="docs-link rounded" href=https://docs.atsign.com/contribute/this-site/style-guide/>Style Guide</a></li></ul></div></li></ul></div></li></ul></span></div></div><div class=flex-grow-1></div><button id=mode class="btn py-2 order-md-1 text-body" type=button aria-label="Toggle user interface mode">
<span class="toggle-dark text-primary"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class="toggle-light text-highlight"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button>
<button class="btn btn-menu order-md-1 d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDoks aria-controls=offcanvasDoks aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button></nav></header><nav class="doks-subnavbar py-2 sticky-lg-top" aria-label="Secondary navigation"><div class="container-fluid d-flex align-items-center"><form class="doks-search position-relative flex-grow-1 me-auto"><input id=search class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded d-none"></div></form></div></nav><div class="wrap container-fluid" role=document><div class=content><link rel=stylesheet href=https://docs.atsign.com/main.3d9a1816ae4c8ad6d89401641e7f709a1fdf9405e6d991ee0967db60bd394495d7e4c8e91e3a0f0f3ccf29fb5fe8c02703f102553c70c8f44dc2588ce17752b4.css integrity="sha512-PZoYFq5MitbYlAFkHn9wmh/flAXm2ZHuCWfbYL05RJXX5MjpHjoPDzzPKftf6MAnA/ECVTxwyPRNwliM4XdStA==" crossorigin=anonymous><div class=codelab><div class=codelab-nav-buttons><a class="codelab-arrow-back text-decoration-none" href=https://docs.atsign.com/tutorials/ id=arrow-back>← Exit Codelab</a></div><div class=codelab-timer>⏱
3 mins remaining</div><div class=codelab-title><h1>Ssh! No Ports</h1><p class=lead>SSH to a remote linux device without it having any open ports</p></div><div class=codelab-drawer><h3 class=codelab-nav-title>Steps <span>in this module</span></h3><div class=codelab-steps><ol><li completed><a href=https://docs.atsign.com/tutorials/sshnp/1-prerequisites/><span class=codelab-step><span>Prerequisites</span></span></a></li><li selected><a href=https://docs.atsign.com/tutorials/sshnp/2-daemon/><span class=codelab-step><span>Set up the Daemon</span></span></a></li><li><a href=https://docs.atsign.com/tutorials/sshnp/3-client/><span class=codelab-step><span>Set up the Client</span></span></a></li><li><a href=https://docs.atsign.com/tutorials/sshnp/4-finish/><span class=codelab-step><span>Finish</span></span></a></li></ol></div></div><div class=codelab-body><div class=codelab-steps><div class=codelab-step><div class=codelab-instructions><h2 class=codelab-step-title>Set up the Daemon</h2><ol><li><p>Place your <code>.atKeys</code> files in <code>~/.atsign/keys</code> directory for both your client and device. One atSign will be the manager (client) atSign and the other atSign will be the device atSign (that you will be connecting to via ssh).</p></li><li><p>Start up the daemon (sshnpd) on the remote device. Remember to start up the daemon on device start up via rc.local or similar.</p></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>./sshnpd --atsign &lt;@your_devices_atsign&gt; --manager &lt;@your_manager_atsign&gt; <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--device &lt;iot_device_name&gt; -u
</span></span></code></pre></div><p>(Or run the dart file via <code>dart run</code>)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>dart run bin/sshnpd.dart &lt;args<span class=p>|</span>flags&gt;
</span></span></code></pre></div><p>See the options & flags available for the daemon binary:</p><table><thead><tr><th>Argument</th><th>Abbreviation</th><th>Mandatory</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td>&ndash;keyFile</td><td>-k</td><td>false</td><td>Sending atSign&rsquo;s keyFile if not in <code>~/.atsign/keys/</code></td><td></td></tr><tr><td>&ndash;atsign</td><td>-a</td><td>true</td><td>atSign of this device</td><td></td></tr><tr><td>&ndash;manager</td><td>-m</td><td>true</td><td>Manager&rsquo;s atSign, that this device will accept triggers from</td><td></td></tr><tr><td>&ndash;device</td><td>-d</td><td>false</td><td>Send a trigger to this device, allows multiple devices share an atSign</td><td>&ldquo;default&rdquo;</td></tr></tbody></table><table><thead><tr><th>Flags</th><th>Abbreviation</th><th>Description</th></tr></thead><tbody><tr><td>&ndash;[no-]sshpublickey</td><td>-s</td><td>Update authorized_keys to include public key from sshnp</td></tr><tr><td>&ndash;[no-]username</td><td>-u</td><td>Send username to the manager to allow sshnp to display username in command line</td></tr><tr><td>&ndash;[no-]verbose</td><td>-v</td><td>More logging</td></tr></tbody></table></div></div></div><div class=codelab-controls><div class=fabs><a href=https://docs.atsign.com/tutorials/sshnp/1-prerequisites/ id=previous-step title="Previous step">Back</a><div class=spacer></div><a href=https://docs.atsign.com/tutorials/sshnp/3-client/ id=next-step title="Next step">Next</a></div></div></div></div></div></div><footer class="footer text-muted"><div class=container-fluid><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer><script src=https://docs.atsign.com/js/bootstrap.min.f93d87ed312fd94eae9a720e5988a3bd322bcdd099518866fc5668e18610cca0077fc356b3edfc727dedf5f773dab0a6d87a870e4b616595e76381163dd5a730.js integrity="sha512-+T2H7TEv2U6umnIOWYijvTIrzdCZUYhm/FZo4YYQzKAHf8NWs+38cn3t9fdz2rCm2HqHDkthZZXnY4EWPdWnMA==" crossorigin=anonymous defer></script>
<script src=https://docs.atsign.com/js/highlight.min.ab83c9c22e3502ea9a2c69dc7d30f4b944665498128154a4f5209b2d7687058cec30e0d671bba65bb00077b8bc017b214819cb115df26ae69e61aff74dd6102d.js integrity="sha512-q4PJwi41AuqaLGncfTD0uURmVJgSgVSk9SCbLXaHBYzsMODWcbumW7AAd7i8AXshSBnLEV3yauaeYa/3TdYQLQ==" crossorigin=anonymous defer></script>
<script src=https://docs.atsign.com/main.min.77be814f15d160fc6b19496934363bc074a55c1e7db29a528246f32bd507128551839f528fab104d30ff53a74f51ab1c87c9280d822507bd6fdc0ad4aadbe64d.js integrity="sha512-d76BTxXRYPxrGUlpNDY7wHSlXB59sppSgkbzK9UHEoVRg59Sj6sQTTD/U6dPUasch8koDYIlB71v3ArUqtvmTQ==" crossorigin=anonymous defer></script>
<script src=https://docs.atsign.com/index.min.5ec0ce641148588c6150715f10e1b2a6fc9699eb1ba3aa9726dcb82714bd678cba3bf5ed190cb2dbc162f733660279192dc2c41a5788aa0b1d5222c094fe0104.js integrity="sha512-XsDOZBFIWIxhUHFfEOGypvyWmesbo6qXJty4JxS9Z4y6O/XtGQyy28Fi9zNmAnkZLcLEGleIqgsdUiLAlP4BBA==" crossorigin=anonymous defer></script></body></html>